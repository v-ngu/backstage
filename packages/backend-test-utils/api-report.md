## API Report File for "@backstage/backend-test-utils"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { Backend } from '@backstage/backend-app-api';
import { BackendFeature } from '@backstage/backend-plugin-api';
import { CacheService } from '@backstage/backend-plugin-api';
import { ConfigReader } from '@backstage/config';
import { ConfigService } from '@backstage/backend-plugin-api';
import { DatabaseService } from '@backstage/backend-plugin-api';
import { ExtendedHttpServer } from '@backstage/backend-app-api';
import { ExtensionPoint } from '@backstage/backend-plugin-api';
import { HttpRouterFactoryOptions } from '@backstage/backend-app-api';
import { HttpRouterService } from '@backstage/backend-plugin-api';
import { JsonObject } from '@backstage/types';
import { Knex } from 'knex';
import { LifecycleService } from '@backstage/backend-plugin-api';
import { LoggerService } from '@backstage/backend-plugin-api';
import { PermissionsService } from '@backstage/backend-plugin-api';
import { RootLifecycleService } from '@backstage/backend-plugin-api';
import { RootLoggerService } from '@backstage/backend-plugin-api';
import { SchedulerService } from '@backstage/backend-plugin-api';
import { ServiceFactory } from '@backstage/backend-plugin-api';
import { ServiceRef } from '@backstage/backend-plugin-api';
import { TokenManagerService } from '@backstage/backend-plugin-api';
import { UrlReaderService } from '@backstage/backend-plugin-api';

// @public (undocumented)
export function isDockerDisabledForTests(): boolean;

// @alpha (undocumented)
export namespace mockFactories {
  const // (undocumented)
    config: (
      options?: mockServices.config.Options | undefined,
    ) => ServiceFactory<ConfigService>;
  const // (undocumented)
    rootLogger: (
      options?: mockServices.rootLogger.Options | undefined,
    ) => ServiceFactory<RootLoggerService>;
  const // (undocumented)
    tokenManager: () => ServiceFactory<TokenManagerService>;
  const // (undocumented)
    cache: () => ServiceFactory<CacheService>;
  const // (undocumented)
    database: () => ServiceFactory<DatabaseService>;
  const // (undocumented)
    httpRouter: (
      options?: HttpRouterFactoryOptions | undefined,
    ) => ServiceFactory<HttpRouterService>;
  const // (undocumented)
    lifecycle: () => ServiceFactory<LifecycleService>;
  const // (undocumented)
    logger: () => ServiceFactory<LoggerService>;
  const // (undocumented)
    permissions: () => ServiceFactory<PermissionsService>;
  const // (undocumented)
    rootLifecycle: () => ServiceFactory<RootLifecycleService>;
  const // (undocumented)
    scheduler: () => ServiceFactory<SchedulerService>;
  const // (undocumented)
    urlReader: () => ServiceFactory<UrlReaderService>;
}

// @alpha (undocumented)
export namespace mockServices {
  // (undocumented)
  export namespace config {
    // (undocumented)
    export type Options = {
      data?: JsonObject;
    };
  }
  // (undocumented)
  export function config(options?: config.Options): ConfigReader;
  // (undocumented)
  export namespace rootLogger {
    // (undocumented)
    export type Options = {
      levels:
        | boolean
        | {
            error: boolean;
            warn: boolean;
            info: boolean;
            debug: boolean;
          };
    };
  }
  // (undocumented)
  export function rootLogger(options?: rootLogger.Options): LoggerService;
  // (undocumented)
  export function tokenManager(): TokenManagerService;
}

// @public
export function setupRequestMockHandlers(worker: {
  listen: (t: any) => void;
  close: () => void;
  resetHandlers: () => void;
}): void;

// @alpha (undocumented)
export function startTestBackend<
  TServices extends any[],
  TExtensionPoints extends any[],
>(
  options: TestBackendOptions<TServices, TExtensionPoints>,
): Promise<TestBackend>;

// @alpha (undocumented)
export interface TestBackend extends Backend {
  readonly server: ExtendedHttpServer;
}

// @alpha (undocumented)
export interface TestBackendOptions<
  TServices extends any[],
  TExtensionPoints extends any[],
> {
  // (undocumented)
  extensionPoints?: readonly [
    ...{
      [index in keyof TExtensionPoints]: [
        ExtensionPoint<TExtensionPoints[index]>,
        Partial<TExtensionPoints[index]>,
      ];
    },
  ];
  // (undocumented)
  features?: BackendFeature[];
  // (undocumented)
  services?: readonly [
    ...{
      [index in keyof TServices]:
        | ServiceFactory<TServices[index]>
        | (() => ServiceFactory<TServices[index]>)
        | [ServiceRef<TServices[index]>, Partial<TServices[index]>];
    },
  ];
}

// @public
export type TestDatabaseId =
  | 'POSTGRES_13'
  | 'POSTGRES_9'
  | 'MYSQL_8'
  | 'SQLITE_3';

// @public
export class TestDatabases {
  static create(options?: {
    ids?: TestDatabaseId[];
    disableDocker?: boolean;
  }): TestDatabases;
  // (undocumented)
  eachSupportedId(): [TestDatabaseId][];
  init(id: TestDatabaseId): Promise<Knex>;
  // (undocumented)
  supports(id: TestDatabaseId): boolean;
}
```
